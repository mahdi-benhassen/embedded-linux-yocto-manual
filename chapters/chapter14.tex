 \chapter{Kernel and BSP with Yocto}
 \section{Kernel Recipes}
Use linux-yocto or vendor kernel recipes to build and deploy the kernel and device trees. Configure \texttt{KERNEL\_FEATURES} and fragments to control options and patches.
 \section{BSP Layers}
 BSP layers provide machine configuration, bootloader recipes, kernel configuration, and device trees. Align MACHINE with the intended board and ensure compatibility with your Yocto release.
 \section{Hands-On: Device Tree Override}
 Add a .bbappend to inject a device tree overlay or modified dts into the kernel recipe. Rebuild and verify the updated device tree is deployed in the image.
 \section{Firmware}
 Package firmware blobs and ensure they are included by the image and accessible to drivers through standard paths such as /lib/firmware.
